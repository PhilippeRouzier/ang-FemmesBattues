<div class="page-wrap height-100 black">
  <div class="session-form-hold">
    <mat-card>
      <mat-card-content>
        <div class="text-center pt-8 pb-16">
          <p class="text-muted m-0"> Changement de mot de passe : </p>
        </div>

        <form [formGroup]="loginMDPForm" (ngSubmit)="ValidationMDP()">
          <small
            *ngIf="VerifMDP"
            class="form-error-msg"> Mauvais ancien mot de passe
          </small>

          <div class="">
            <mat-form-field class="full-width">
              <input
                type="password"
                name="oldmdp"
                matInput
                [formControl]="loginMDPForm.controls.oldmdp"
                placeholder="Ancien mot de Passe"
                value="">
            </mat-form-field>
            <small
              *ngIf="loginMDPForm.controls.oldmdp.hasError('required') && loginMDPForm.controls.oldmdp.touched"
              class="form-error-msg">Ancien mot de passe obligatoire</small>
          </div>

          <div class="">
            <mat-form-field class="full-width">
              <input
                type="password"
                name="mdp"
                matInput
                [formControl]="loginMDPForm.controls.mdp"
                placeholder="Mot de Passe"
                value="">
            </mat-form-field>
            <small
              *ngIf="loginMDPForm.controls.mdp.hasError('required') && loginMDPForm.controls.mdp.touched"
              class="form-error-msg"> Mot de passe obligatoire </small>
          </div>
          <div class="pb-1">
            <mat-form-field class="full-width">
              <input
                type="password"
                name="mdpConfirm"
                matInput
                appEqualValidator="mdp"
                formControlName="mdpConfirm"
                placeholder="Confirmation mot de passe"
                value="">
            </mat-form-field>
            <small
              *ngIf="loginMDPForm.controls.mdpConfirm.hasError('equalTo')"
              class="form-error-msg"> Mot de passe différent </small>
          </div>

          <mat-error>
            <span *ngIf="loginMDPForm.errors?.notEquals">
              Les mots de passe sont différents
            </span>
          </mat-error>

          <button mat-raised-button class="mat-primary full-width mb-1" [disabled]="loginMDPForm.invalid">Validation</button>
        </form>
      </mat-card-content>
    </mat-card>
  </div>
</div>

